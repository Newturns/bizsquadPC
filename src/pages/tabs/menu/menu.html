<ion-content no-padding class="content-color">
  <ion-list class="listHeight" [ngClass]="{'listHeightAuto': !isListShown}">
    <ion-item class="group-list-item" no-lines>
      <ion-avatar class="all_notify_button" item-start (click)="showAllNotify()">
        all
        <ion-badge *ngIf="badgeVisible" id="groupBadge">{{ badgeCount }}</ion-badge>
      </ion-avatar>
    </ion-item>
    <ng-container *ngFor="let group of groups;"> 
      <ion-item class="group-list-item" no-lines *ngIf="eachGroups[group.gid]">
        <ion-avatar class="hoverAvatar" item-start *ngIf="!group.data.photoURL" [style.background-color]="group.data.team_color" (click)="showNotify(group)">
          {{group.data.team_icon}}
          <ion-badge *ngIf="eachGroups[group.gid]" id="groupBadge">{{ eachGroups[group.gid].length }}</ion-badge>
        </ion-avatar>
        <ion-avatar class="hoverAvatar" *ngIf="group.data.photoURL" item-start [style.background-color]="group.data.team_color" (click)="showNotify(group)">
            <img style="border-radius: 15%;" src="{{ group.data.photoURL }}">
          <ion-badge *ngIf="eachGroups[group.gid]" id="groupBadge">{{ eachGroups[group.gid].length }}</ion-badge>
        </ion-avatar>
      </ion-item>
    </ng-container>
  </ion-list>
  <section id="cd-timeline" class="cd-container">
    <button class="isListShown-button" ion-button color="dark" clear icon-only (click)="toggleList()">
        <ion-icon [name]="isListShown ? 'ios-arrow-down' : 'ios-arrow-up'"></ion-icon>
    </button>
    <!-- 아래 div에 ngFor 입력 -->
    <div *ngFor="let msg of messages">
      <div class="cd-timeline-block">
        <ng-container *ngIf="msg.data.user != null">
          <div class="cd-timeline-picture text-center white" *ngIf="msg.data.user.data.photoURL != null">
              <img src="{{ msg.data.user.data.photoURL }}"> 
          </div>
          <ion-avatar class="cd-timeline-picture text-center notPhoto" item-start *ngIf="msg.data.user.data.photoURL == null">
              <span class="displayName">{{ msg.data.user.data.displayName | slice:0:1 }}</span>
          </ion-avatar>
          <div class="cd-timeline-content padding white" (click)="onClickNotifyContents(msg)">
              <p class="cd-author marginTop5 marginBottom5">                                
                <span class="from">{{msg.data.header[0]}}</span>
                <span class="created">{{msg.notification.created | timestampToDate | date: 'MM/dd HH:mm'}}</span>
              </p>
              <p class="timelineText marginBottom5 marginTop5">
                  <span class="notifyType">[{{msg.notification.type}}]</span>
                  {{msg.data.header[1]}}
              </p>
          </div>
        </ng-container>
      </div>
    </div>
  </section>
</ion-content>
<div class="noNotify" *ngIf="noNotify">
    <img src="imgs/none_alarm.svg">
    <p>No new notifications</p>
</div> 

